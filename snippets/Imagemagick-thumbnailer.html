
    <!DOCTYPE html>
    <html lang="en">
        <head>
        <title>Imagemagick Thumbnailer - Raymii.org</title>
        <link href="/s/inc/css/bootstrap.css" rel="stylesheet" />
        <link href="/s/inc/js/google-code-prettify/prettify.css" rel="stylesheet" />
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    </head>
    <body>
        <a id="top-of-page"></a>
        <div class="container-fluid ">
        <div class="row-fluid">
        
        <div class="span10 offset1">
                
            <div class="span4 well"> 
            
                <h1 class="topheader">Raymii.org</h1>
                <h6>Quis custodiet ipsos custodes?</h6>
                <h6><a href="/s/feed.xml">RSS</a></h6>
            
            </div>

            <div class="span4 green-block">
                
                    <h3>Featured Items</h3>
    <a href="/s/tutorials/Ansible.html" class="whitelink">Ansible</a>
<br />
<a href="/s/tutorials/Autossh_persistent_tunnels.html" class="whitelink">Autossh persistent tunnels</a>
<br />
<a href="/s/software/Codename_Geld.html" class="whitelink">Codename Geld</a>
<br />
<a href="/s/tutorials/Munin_optimalization_on_Debian.html" class="whitelink">Munin optimalization on Debian</a>
<br />
<a href="/s/articles/Small_Linux_PCs.html" class="whitelink">Small Linux PCs</a>
<br />

            
        </div>
        <div class="span4 green-block">
            
                <h3>Featured Items</h3>
    <a href="/s/software/Bash_PHP_Server_Status_Monitor.html" class="whitelink">Bash PHP Server Status Monitor</a>
<br />
<a href="/s/articles/Encryption-on-ANY-cloud-service.html" class="whitelink">Encryption on ANY cloud service</a>
<br />
<a href="/s/tutorials/IPSEC_L2TP_vpn_with_Ubuntu_12.04.html" class="whitelink">IPSEC L2TP vpn with Ubuntu 12.04</a>
<br />
<a href="/s/software/NutsManager.html" class="whitelink">NutsManager</a>
<br />
<a href="/s/tutorials/Tahoe_LAFS_Storage_Grid.html" class="whitelink">Tahoe LAFS Storage Grid</a>
<br />

            
        </div>
    </div>
    
    </div>
    <div class="row-fluid">
    <div class="span10 offset1">
    

    <div class="span3">
    <h3>Menu</h3><ul class="nav nav-pills nav-stacked">
<li><a href="/s/" class="link">Home</a>
</li>
<li><a href="/s/static/Disclaimer.html" class="link">Disclaimer</a>
</li>
<li><a href="/s/static/Terrible-Linux.html" class="link">Terrible Linux</a>
</li>
</ul>
<h3>Categories</h3>
<ul class="nav nav-pills nav-stacked">
<li><a href="/s/articles" class="link">Articles</a>
</li>
<li><a href="/s/snippets" class="link">Snippets</a>
</li>
<li><a href="/s/software" class="link">Software</a>
</li>
<li><a href="/s/tutorials" class="link">Tutorials</a>
</li>
</ul></div>  <div class="span7">   <div class="inner"><h2>Imagemagick thumbnailer</h2>
<ul class="breadcrumb">
<li><a href="../" class="link">Home</a>
<span class="divider">/</span></li>
<li><a href="../snippets" class="link">Snippets</a>
<span class="divider">/</span></li>
<li><a href="Imagemagick-thumbnailer.html" class="link">Imagemagick thumbnailer</a>
</li>
</ul>
<h6>Author: Remy Van Elst</h6>
<h6>Date: 29-11-2007</h6>
<br></br>
<p>#### </p>

<p>Below you'll find the script that makes nice thumbnails from a bunch of images. I've used it on the links page on this website. (Which is not around anymore). <br />
First I made screenshots of the website's I wanted, with the firefox add-on screengrab. It also works with pictures, but then you'll have to change the png to jpg in the script. The script also makes a HTML page with a 2 collumn table witth the thumbs in it. </p>

<p>Make sure you have imagemagick installed (<em>sudo apt-get install imagemagick</em> or <em>sudo pacman -S imagemagick</em>) The script:</p>

<h5>The code</h5>

<pre><code>#####################################
## Raymii.org Thumbr script        ##
## Version 0.2. Just bugfixes...   ##
#####################################

#!/bin/bash
NUMMR=1

EXTENSION="jpg";
mkdir work
mkdir -p finished/pics 

GALL=./finished/gallery.html
rm -rf $GALL 
echo "Made with raymii.orgs gallery thumber" &gt; $GALL 
tabhead=" &lt;table border=\"0\" bordercolor=\"0\" &gt;" 
tabfeet=" &lt;/table &gt;" 
echo $tabhead &gt;&gt; $GALL 


for i in *.$EXTENSION; 
do cp -rf -v "$i" "./work/$NUMMR.$EXTENSION"; 

convert ./work/$NUMMR.$EXTENSION -auto-orient \
 -thumbnail 160x160 -unsharp 0x.5 ./work/$NUMMR.w1.png 


convert ./work/$NUMMR.w1.png \
 -bordercolor white -border 6 \
 -bordercolor grey60 -border 1 \
 -bordercolor none -background none \
 \( -clone 0 -rotate `convert null: -format '%[fx:rand()*30-15]' info:` \) \
 \( -clone 0 -rotate `convert null: -format '%[fx:rand()*30-15]' info:` \) \
 \( -clone 0 -rotate `convert null: -format '%[fx:rand()*30-15]' info:` \) \
 \( -clone 0 -rotate `convert null: -format '%[fx:rand()*30-15]' info:` \) \
 -delete 0 -border 100x100 -gravity center \
 -crop 200x200+0+0 +repage -flatten -trim +repage \
 -background black \( +clone -shadow 60x4+4+4 \) +swap \
 -background none -flatten \
 "./work/$NUMMR.thumb.png" 




cp ./work/$NUMMR.thumb.png ./finished/pics/$NUMMR.png

evenline=" &lt;tr &gt; &lt;td &gt; &lt;a href=\"\"&gt;&lt;img src=\"pics/$NUMMR.png\" alt=\" pic $NUMMR - made by raymii.org script\" / &gt; &lt;/a&gt;&lt;/td &gt;" 
oddline=" &lt;td &gt; &lt;a href=\"\"&gt;&lt;img src=\"pics/$NUMMR.png\" alt=\" pic $NUMMR - made by raymii.org script\" / &gt; &lt;/td &gt; &lt;/a&gt;&lt;/tr &gt;" 

 slot=$(( $NUMMR % 2 )) 
if [ $slot -eq 0 ] 
then 
 echo $oddline &gt;&gt; $GALL 
else 
 echo $evenline &gt;&gt; $GALL 
fi 
let "NUMMR += 1" 
done 

echo $tabfeet &gt;&gt; $GALL 
rm -rf ./work 
exit 0
</code></pre>

<p>The thumbing effect was copied from the example pages from imagemagick. </p>

<p><a href="http://raymii.org/content/downloads/thumbr/index.html">Here is another example page with pictures.</a> Please leave a comment if you use the script somewhere, I'd like to see your results.</p>
<hr></hr>
Tags: <a href="../tags/bash.html" class="link">bash, 
</a>
<a href="../tags/imagemagick.html" class="link">imagemagick, 
</a>
<a href="../tags/thumbnails.html" class="link">thumbnails, 
</a>
<div class="footer">
                <hr>

                <p>Generated by <a href="https://raymii.org/s/software/ingsoc.html">ingsoc</a>.<br />

                <small>257c0733408d4112e302994f67f317</small></p>

                <small><a href="http://validator.w3.org/check/referer" target="_blank">Validate XHTML</a></small>

                </div>
            </div>
        </div>
    </div>  
    </div>
    </div>    
    </body>
    </html>
    